<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <title>Task 1</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
        integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <script type="application/javascript">

        function createFamilyTree() {
            //create a table
            var tableElement = $("<table>");
            // create a table header
            var tableHeader = $("<thead>").append(
                $("<tr>").append(
                    $("<th>").text("Firstname"),
                    $("<th>").text("Lastname")
                )
            );
            //create table body
            var tableBody = $("<tbody>");
            tableElement.append(tableHeader, tableBody);
            $("body").append(tableElement);
        }



        function addNewMember(firstName, LastName, position) {
            if (position == 'Before') {
                $('tbody').prepend($('<tr>').append(
                    $('<td>').text(firstName),
                    $('<td>').text(LastName),
                    $('<td style="background-color:orange">').text('(x)').click(function (e) {
                        $(this).closest('tr').remove();
                    })
                ))
            } else {
                $("tbody").append(
                    $("<tr>").append(
                        $("<td>").text(firstName),
                        $("<td>").text(LastName),
                        $("<td style='background-color:orange'>").text('(x)').click(function (e) {
                            $(this).closest("tr").remove()
                        })
                    )
                )
            }
        }
        function createForm() {
            //input creation
            let div = $("<div style='display:inline-block'>");
            let firstName = $("<input type='text'>")
            let LastName = $("<input type='text'>")
            div.append(firstName, LastName)
            //seclect creation
            let select = $("<select>");
            let optionB = $("<option value='Before'>").text('Before')
            let optionA = $("<option value='After'>").text('After')
            let submit = $("<button type='submit'>").text("Submit")
            select.append(optionB, optionA)
            // append elments
            $('body').prepend(div, select, submit);

            submit.click(function () {
                addNewMember(firstName.val(), LastName.val(), select.val())
            })
        }
        $(function () {
            createFamilyTree();
            createForm()
        });
    </script>
</head>

<body></body>

</html>